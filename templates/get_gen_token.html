{# vim: set ft=jinja #}
<!DOCTYPE html>
<html lang="en">

  <head>
    <title>Generate a link</title>
<style>
body {
  max-width: 40rem;
  margin: 2rem auto;
}

.notif {
  padding: 0.8rem;
  text-align: center;
  border-radius: 0.5rem
}

</style>
  </head>

  <body>

    {% if error is defined %}
    <p class="notif" style="background: rgba(230,30,0,0.8);">
    {{error}}
    </p>
    {% endif %}

    {% if message is defined %}
    <p class="notif" style="background: rgba(0,230,50,0.8);">
    {{message}}
    </p>
    {% endif %}

    <form action="/gen" method="POST">

      <div>
        <label for="path">Path</label>
        <input name="path" id="path" type="text" size="42" maxLength="40" spellcheck="no" required value="coucou">
      </div>

      <hr>

    <p> max size: {% if max_size_mib is defined %} {{max_size_mib}} {% else %} undefined {% endif %}</p>

      <div>
        <p>Max size:</p>
        <input type="radio" name="max-size-mib" value="1" id="max-size-1MB"
        {% if max_size_mib is defined and max_size_mib == 1 %} checked {% endif %}
        >
        <label for="max-size-1MB">1 MB</label>
        <input type="radio" name="max-size-mib" value="10" id="max-size-10MB"
        {% if not max_size_mib or max_size_mib and max_size_mib == 10 %} checked {% endif %}
        >
        <label for="max-size-10MB">10 MB</label>
        <input type="radio" name="max-size-mib" value="200" id="max-size-200MB">
        <label for="max-size-200MB">200 MB</label>
        <input type="radio" name="max-size-mib" value="1024" id="max-size-1GB">
        <label for="max-size-1GB">1 GB</label>
        <input type="radio" name="max-size-mib" value="5120" id="max-size-5GB">
        <label for="max-size-5GB">5 GB</label>
        <input type="radio" name="max-size-mib" value="None" id="max-size-unlimited">
        <label for="max-size-unlimited">Unlimited</label>
      </div>

      <hr>

      <div>
        <p>Content expires after:</p>
        <input type="radio" name="content-expires" value="1" id="expires-1h">
        <label for="expires-1h">1 hour</label>
        <input type="radio" name="content-expires" value="24" id="expires-1d" checked>
        <label for="expires-1d">1 day</label>
        <input type="radio" name="content-expires" value="168" id="expires-1w">
        <label for="expires-1w">1 week</label>
        <input type="radio" name="content-expires" value="744" id="expires-1m">
        <label for="expires-1m">1 month</label>
        <input type="radio" name="content-expires" value="None" id="expires-not">
        <label for="expires-not">Doesn't expire</label>
      </div>

      <hr>

      <div>
        <p>Link valid for</p>
        <input type="radio" name="token-valid-for-hour" value="1" id="valid-for-1h">
        <label for="valid-for-1h">1 hour</label>
        <input type="radio" name="token-valid-for-hour" value="24" id="valid-for-1d" checked>
        <label for="valid-for-1d">1 day</label>
        <input type="radio" name="token-valid-for-hour" value="168" id="valid-for-1w">
        <label for="valid-for-1w">1 week</label>
        <input type="radio" name="token-valid-for-hour" value="5208" id="valid-for-1m">
        <label for="valid-for-1m">1 month</label>
      </div>

      <hr>

      <div>
        <button type="submit">OK</button>
      </div>
    </form>
  </body>

</html>
